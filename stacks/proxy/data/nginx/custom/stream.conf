# forward HTTPS for vulpe.dev and all subdomains to 192.168.1.103:443
map $ssl_preread_server_name $vulpe_backend {
    vulpe.dev          192.168.1.103:443;
    ~^.*\.vulpe\.dev$  192.168.1.103:443;
    default            0;
}

server {
    listen 443;
    ssl_preread on;
    proxy_pass $vulpe_backend;

    # optional: preserve client IP via PROXY protocol (backend must accept it)
    # proxy_protocol on;
}
